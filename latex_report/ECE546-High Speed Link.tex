\documentclass{book}  % fundamental class file is 'book'.
\usepackage{piers}  % use the file 'piers.sty'.
\pagestyle{piers}


\usepackage{hyperref}
\usepackage{cite}
\usepackage{amsmath}
%\interdisplaylinepenalty=2500 % suggested by IEEE to use with amsmath package
\usepackage{amsfonts}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{epstopdf}

\usepackage[T1]{fontenc} % optional
\usepackage[cmintegrals]{newtxmath}
\usepackage{bm} % optional


% ================ self-defined command ==================
\usepackage{color} % for marking text
\newcommand{\highlight}[1]{\Huge\textcolor{red}{#1}\normalsize}
\newcommand{\defaultfigurewidth}{0.5\columnwidth}
% --------- fix non-conventional piers command -----------
% So you can simply use abstract, section, and subsection
% as used in IEEE papers.
\newenvironment{abstract}{\begin{piersabstract}}{%
	\end{piersabstract}\ignorespacesafterend% as suggested above
}
\renewcommand{\section}[1]{\psection{#1}}
\renewcommand{\subsection}[1]{\psubsection{#1}}


% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}

\begin{document}

\title{Design of High Speed Link System}
\maketitle

%=== List of authors (in order) ========
%-- Author(s) for the first affiliation ---
\author      {Chang-Pao Chang}
\affiliation {University of Illinois at Urbana-Champaign}
\address     {}% optional
\city        {Boston}
\postalcode  {}% optional
\country     {USA}
\phone       {345566}    % optional
\fax         {233445}    % optional
\email       {cchang95@uiuc.edu}  % optional
\misc        { }  % optional
\nomakeauthor
%------------------------------------

%=== List of authors (in order) ========
%-- Author(s) for the second affiliation ---
\author      {Xiou Ge}
\affiliation {University of Illinois at Urbana-Champaign}
\address     {}% optional
\city        {Urbana}
\postalcode  {61801} % optional
\country     {USA}
\phone       {} % optional
\fax         {} % optional
\email       {xiouge2@uiuc.com}  % optional
\misc        { }  % optional
\nomakeauthor
%-------------------------------------

%---Output of Authors----------------------
\begin{authors}	
	{\bf Chang-Pao Chang}$^{1}$, {\bf Xiou Ge}$^{2}$\\
	\medskip
	$^{1}$cchang95@illinois.edu\\
	$^{2}$xiouge2@illinois.edu	
\end{authors}
%--------------------------


%---Content of Paper Abstract-----------------------
\begin{paper}
	
\begin{abstract}
With desire for faster, low-power integrated
\end{abstract}
%
\section{Introduction}
In this project, we design and simulate a Gbps differential high speed link with supply voltage at 1.8 V.
\label{sec:Intro}

\section{System Level Design}
The high speed link we built consists of three main subsystems, namely the transmitter (TX) block, the channel block and the receiver (RX) block. Two paths are designed to transmit the bit stream and the clock signal separately. 

In the TX block, signal path is composed of a data transmitter and a feed-forward equalizer (FFE) implemented with Verilog, whereas the clock path has a clock transmitter connected to the external clock generator. Both transmitters can be implemented using transistor level inverters? 

The channel block consists of bonding wire and the actual signal traces. Since the channel we built is largely symmetric, in order to speed up the simulation, we adopt 'divide and conquer' strategy. We split our channel into 22 small blocks. It turns out that there are only three distinct type of structures we need to simulate, namely the PCB trace, the via transition and bonding wire transition. After obtaining the S-parameter data for each individual block, we cascade the S-parameter using Keysight ADS and quickly obtain the S-parameter for the entire channel. 

Insert cascade schematics

In the RX block, signal path is composed of a transistor level data amplifier to make up for signal loss in the channel, and a decision feedback equalizer (DFE) implemented with Verilog. Whereas the clock path has a transistor level clock amplifier and a Verilog clock deskew block. Decision output from the DFE will be the output for the RX block and the entire high speed link.

To test the system, a random bit stream is generated using the PRBS unit in Cadence Virtuoso and fed into the input of FFE in the TX block. Eye diagrams at the input of channel, input and output of the DFE are plotted to evaluate performance of the high speed link.
\label{sec:system}

\section{PCB Design}
\label{sec:pcb_design}
Since the target bit rate is quite high (3Gbps), we used one of the low loss substrate to design out PCB. The RO4003 from Rogers company is widely used to design various high frequency circuit \cite{na_ro4003_rogers}. We use PCB of 9 layers to demonstrate our design. Fig.~\ref{fig:pcb_layers} shows the dimensions of each layers. The top and bottom layer are the signal layer, and the rest 7 layers at the middle of the PCB are simulated as ground layer. These ground layers were later connected using grounded vias. Each layer is of 19 mil height, and the thickness of metal is 1 mil.

\begin{figure}[htbp!]
	\centering
	\includegraphics[width=0.8\columnwidth]{./img/PCB/PCB_layer_dimension.png}
	\caption{Dimension and layers in designated PCB. $r\_via=20 mil$ is the radius of both signal and ground via. The height of each PCB layer is 19 mil, and the thickness of copper is 1 mil. }
	\label{fig:pcb_layers} % label must put at the last
\end{figure}


\subsection{PCB Traces}
The differential PCB traces are later designed such that the single line impedance is 50 $\Omega$, and the differential impedance is 100 $\Omega$. Fig.~\ref{fig:pcb_trace} shows the design parameters to achieve the desired impedance.

\highlight{add the proof of 50/ 100 Ohm traces}

\begin{table}[h]
	\renewcommand{\arraystretch}{1.3}
	\caption{Material properties of PCB substrate, RO4003 \cite{na_ro4003_rogers}.}
	\vskip0.2in
	\begin{center}
		\begin{tabular}{| c | c | c | c | c |}
			\hline
			$\varepsilon_r$ & $\tan\delta$ & $r\_via$ & $h\_pcb$ & $t\_pcb$\\ \hline
			3.8 & 0.02 & 20 mil & 19 mil & 1 mil\\
			\hline
		\end{tabular}
	\end{center}
	\label{table:ro4003}			
\end{table}

\begin{figure}[htbp!]
	\centering
	\includegraphics[width=0.8\columnwidth]{./img/PCB/differential_PCB_2D_CrossSection.png}
	\caption{Design parameter of PCB traces.}
	\label{fig:pcb_trace} % label must put at the last
\end{figure}


\subsection{Via Transition}
Since there will be a via transition from top to the bottom of the PCB, the strong discontinuity of this via transition will cause strong reflection, as shown in Fig.~\ref{fig:pcb_layers}. The entire structure, however, can be modeled using quasi-static approach. The via itself can be modeled as lumped resistance and inductance, and the parasitic capacitance distributed around the via to the ground plane surrounded. Fig.~\ref{fig:pcb_via_tran_LC} shows the quasi-static models of via transition. 

\begin{figure}[htbp!]
	\centering
	\includegraphics[width=0.8\columnwidth]{./img/PCB/Via_Transition/Via_transition_LC_modeling.png}
	\caption{Lumped model of via transition in PCB.}
	\label{fig:pcb_via_tran_LC} % label must put at the last
\end{figure}

\begin{figure}[htbp!]
	\centering
	\includegraphics[width=0.8\columnwidth]{./img/PCB/Via_Transition/S_parameter.png}
	\caption{S parameter of via transition in PCB.}
	\label{fig:pcb_via_tran_S} % label must put at the last
\end{figure}

\begin{figure}[htbp!]
	\centering
	\includegraphics[width=0.8\columnwidth]{./img/PCB/Via_Transition/via_transition_smith.png}
	\caption{Smith chart of $S^{dd}_{11}$ of via transition in PCB.}
	\label{fig:pcb_via_tran_Sdd11_smith} % label must put at the last
\end{figure}

Fig.~\ref{fig:pcb_via_tran_S} shows the S parameter of differential and common mode. The high level of $S^{cc}_{11}$ shows good common mode rejection, around -10dB, below 10GHz, while the $S^{dd}_{11}$ remains below -20dB below 10GHz. Fig.~\ref{fig:pcb_via_tran_Sdd11_smith} shows the smith chart of $S^{dd}_{11}$. The low reflection of differential mode can be observed that the reflection is below 0.26 with 10GHz.


\section{Bonding Wire Transition}
\label{sec:bond_wire}

\section{Feed Forward Equalizer}
\label{sec:FFE}

\section{Decision Feedback Equalizer}
\label{sec:DFE}

\section{Differential Amplifier}
\label{sec:diff_Op}

\section{Result}
\label{sec:result}







\section{Conclusion}
In this paper, we use the vector electric field formulation, combined with both edge and element basis, to analyze several type of waveguide structure. Both homogeneous and inhomogeneous  waveguide shows a good agreement to the analytic solution. In addition, the slow wave factors of MIS structure are analyzed with different substrate loss. The transitions from slow wave mode to quasi-TEM mode or skip-depth mode can be clearly observed. 

% =============  Reference Section ==============

\bibliographystyle{IEEEtran}
\bibliography{IEEEabrv,F:/SoftwarePC/AutoupdateZoteroLibrary}

%\begin{thebibliography}{99}	
%
%\end{thebibliography}

\end{paper}
\end{document}

